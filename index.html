<!DOCTYPE html>
<html x-data="darkMode" lang="fa" dir="rtl" :class="{ 'dark' : darkMode }">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سازمان همیاری</title>

    <script defer src="https://unpkg.com/alpinejs@3.2.3/dist/cdn.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="./dist/style.css">
</head>


<body class="font-vazir dark:bg-gray-900">

    <header class="shadow-lg">
        <div class="container px-10 py-4 mx-auto">
            <nav class="relative flex items-center justify-between">
                <!-- desktop nav -->
                <div class="items-center hidden lg:text-xs xl:flex ">
                    <div>
                        <button class="btn btn-primary">عضویت</button>
                        <button class="mr-2 btn btn-secondary">ورود</button>
                    </div>
                    <div class="mr-7">
                        <ul class="flex gap-7">
                            <li class="nav-item-active"><a href="#">صفحه اصلی</a></li>
                            <div x-data="dropdown">
                                <li @click="toggle" class="nav-item" :class="{ 'nav-item-active' : open }">
                                    <a href="#">
                                        معاونت ها
                                        <i class="fas fa-chevron-down text-[0.7rem]"></i>
                                    </a>
                                </li>
                                <div x-show="open" x-cloak class="absolute px-6 py-4 bg-white border rounded-lg top-12">
                                    <ul class="space-y-3">
                                        <li class="hover:text-indigo-600"> <a href="#">معاونت عمرانی</a> </li>
                                        <li class="hover:text-indigo-600"> <a href="#"> معاونت بازرگانی </a> </li>
                                        <li class="hover:text-indigo-600"> <a href="#">معاونت برنامه ریزی و توسعه</a> </li>
                                    </ul>
                                </div>
                            </div>
                            <li class="nav-item"><a href="#">هیات مدیره</a></li>
                            <li class="nav-item"><a href="#">بتن صنعت</a></li>
                            <li class="nav-item"><a href="#">هتل مروارید</a></li>
                            <li class="nav-item"><a href="#">مزایده و مناقضه</a></li>
                            <li class="nav-item"><a href="#">دوره های آموزشی</a></li>
                            <li class="nav-item"><a href="#">پیوندها</a></li>
                            <li class="nav-item"><a href="#">تماس با ما</a></li>
                        </ul>
                    </div>
                </div>
                <!-- mobile nav -->
                <div class="xl:hidden" x-data="dropdown">
                    <div @click="toggle">
                        <i class="text-xl fas fa-bars"></i>
                    </div>
                    <div class="absolute w-full px-6 py-4 bg-white border rounded-lg" x-show="open" x-cloak
                        x-transition:enter="transition ease-out duration-300"
                        x-transition:enter-start="opacity-0 transform scale-90"
                        x-transition:enter-end="opacity-100 transform scale-100"
                        x-transition:leave="transition ease-in duration-300"
                        x-transition:leave-start="opacity-100 transform scale-100"
                        x-transition:leave-end="opacity-0 transform scale-90">
                        <div class="absolute" @click="open = false">
                            <i class="text-xl fas fa-times"></i>
                        </div>
                        <ul class="flex flex-col text-center gap-7">
                            <li><a href="#">صفحه اصلی</a></li>
                            <div x-data="dropdown">
                                <li @click="toggle">
                                    <a href="#">
                                        محصولات
                                        <i class="fas fa-chevron-down text-[0.7rem]"></i>
                                    </a>
                                </li>
                                <div x-show="open" x-cloak
                                    class="px-6 py-4 mx-auto bg-white border rounded-lg max-w-max">
                                    <ul class="space-y-3">
                                        <li class="hover:text-indigo-600"> <a href="#">معاونت عمرانی</a> </li>
                                        <li class="hover:text-indigo-600"> <a href="#"> معاونت بازرگانی </a> </li>
                                        <li class="hover:text-indigo-600"> <a href="#">معاونت برنامه ریزی و توسعه</a> </li>
                                    </ul>
                                </div>
                            </div>
                            <li class="nav-item"><a href="#">هیات مدیره</a></li>
                            <li class="nav-item"><a href="#">بتن صنعت</a></li>
                            <li class="nav-item"><a href="#">هتل مروارید</a></li>
                            <li class="nav-item"><a href="#">مزایده و مناقضه</a></li>
                            <li class="nav-item"><a href="#">دوره های آموزشی</a></li>
                            <li class="nav-item"><a href="#">پیوندها</a></li>
                            <li class="nav-item"><a href="#">تماس با ما</a></li>
                        </ul>
                        <div class="flex flex-col gap-5 mt-5">
                            <button class="btn btn-primary">عضویت</button>
                            <button class="mr-2 btn btn-secondary">ورود</button>
                        </div>
                    </div>
                </div>
                <!-- logo -->
                <div class="flex">
                    <div class="ml-4">
                        <button x-show="nextMode == 'dark'" x-cloak @click="toDarkMode" class="btn btn-secondary leading-0">
                            <i class="fas fa-moon"></i>
                        </button>
                        <button x-show="nextMode == 'system'" x-cloak @click="toSystemMode" class="btn btn-secondary leading-0">
                            <i class="fas fa-desktop"></i>
                        </button>
                        <button x-show="nextMode == 'light'" x-cloak @click="toLightMode" class="btn btn-secondary leading-0">
                            <i class="fas fa-sun"></i>
                        </button>
                    </div>
                    <h2 class="text-2xl font-bold">hmyr.ir</h2>
                </div>
            </nav>
        </div>
    </header>


    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('dropdown', () => ({
                open: false,

                toggle() {
                    this.open = !this.open
                }
            }))
            Alpine.data('darkMode', () => ({
                darkMode: false,
                nextMode: '',

                init() {
                    if ('nextThemeMode' in localStorage) {
                        this.nextMode = localStorage.nextThemeMode
                    } else {
                        this.nextMode = 'dark'
                    }

                    if (localStorage.theme === 'dark') {
                        this.darkMode = true;
                    } else {
                        this.darkMode = false;
                    }
                },

                toDarkMode() {
                    localStorage.theme = 'dark';
                    localStorage.nextThemeMode = 'system';
                    this.darkMode = true;
                    this.nextMode = 'light'; //system
                },

                toSystemMode() {
                    localStorage.theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
                    localStorage.nextThemeMode = 'light';
                    this.darkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    this.nextMode = 'light';
                },

                toLightMode() {
                    localStorage.theme = 'light';
                    localStorage.nextThemeMode = 'dark';
                    this.darkMode = false;
                    this.nextMode = 'dark';
                }
            }))
        })
    </script>
</body>

</html>